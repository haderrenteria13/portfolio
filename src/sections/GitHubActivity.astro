---
import { useTranslations, type Lang } from "../i18n/utils";

interface Props {
  lang?: Lang;
}

const { lang = "es" } = Astro.props;
const t = useTranslations(lang);

// GitHub stats - Update these with your real data
const githubStats = {
  followers: 15,
  stars: 42,
  repos: 28,
  forks: 12,
  contributions: 847,
  year: 2024,
};
---

<section id="github-activity" class="relative bg-black py-32 overflow-hidden">
  {/* Background Elements */}
  <div class="absolute inset-0 pointer-events-none">
    {/* Noise Texture */}
    <div
      class="absolute inset-0 opacity-[0.03] mix-blend-overlay"
      style="background-image: url('https://grainy-gradients.vercel.app/noise.svg');"
    >
    </div>

    {/* Subtle Glow */}
    <div
      class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[600px] bg-amber-500/5 rounded-full blur-[120px]"
    >
    </div>
  </div>

  <div class="container mx-auto px-6 relative z-10">
    {/* Section Header */}
    <div class="text-center mb-16">
      <div
        class="inline-flex items-center justify-center px-4 py-1.5 mb-6 rounded-full bg-white/5 border border-white/10 backdrop-blur-md shadow-[0_0_15px_rgba(251,191,36,0.1)]"
      >
        <span
          class="text-amber-300/90 font-mono text-[10px] tracking-[0.3em] uppercase"
        >
          {
            lang === "es"
              ? "Perspectivas del Desarrollador"
              : "Developer Insights"
          }
        </span>
      </div>

      <h2
        class="text-4xl md:text-5xl lg:text-6xl font-bold text-white leading-tight tracking-tight"
      >
        <span class="font-playfair">GitHub </span>
        <span
          class="font-playfair italic text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-yellow-400 to-amber-200 bg-[length:200%_auto] animate-shine"
        >
          Activity
        </span>
      </h2>
    </div>

    {/* GitHub Contribution Graph */}
    <div class="max-w-5xl mx-auto mb-12">
      {/* Month Labels */}
      <div
        class="grid grid-cols-12 gap-1 mb-2 text-xs text-gray-500 font-medium"
      >
        <div class="text-center">Dec</div>
        <div class="text-center">Jan</div>
        <div class="text-center">Feb</div>
        <div class="text-center">Mar</div>
        <div class="text-center">Apr</div>
        <div class="text-center">May</div>
        <div class="text-center">Jun</div>
        <div class="text-center">Jul</div>
        <div class="text-center">Aug</div>
        <div class="text-center">Sep</div>
        <div class="text-center">Oct</div>
        <div class="text-center">Nov</div>
      </div>

      {/* Contribution Grid */}
      <div class="grid grid-cols-[repeat(52,minmax(0,1fr))] gap-[3px] mb-4">
        {/* Generate 364 squares (52 weeks Ã— 7 days) */}
        {
          Array.from({ length: 364 }).map((_, i) => {
            // Random contribution levels for demo - replace with real data
            const level = Math.floor(Math.random() * 5);
            const colors = [
              "bg-gray-800/50", // 0 contributions
              "bg-amber-900/30", // 1-3 contributions
              "bg-amber-700/50", // 4-6 contributions
              "bg-amber-500/70", // 7-9 contributions
              "bg-amber-400", // 10+ contributions
            ];
            return (
              <div
                class={`aspect-square rounded-sm ${colors[level]} hover:ring-2 hover:ring-amber-400/50 transition-all duration-200 cursor-pointer`}
                title={`${level * 3} contributions`}
              />
            );
          })
        }
      </div>

      {/* Legend */}
      <div class="flex items-center justify-between text-xs text-gray-500">
        <span
          >{githubStats.contributions}
          {lang === "es" ? "contribuciones en" : "contributions in"}
          {githubStats.year}</span
        >
        <div class="flex items-center gap-2">
          <span>Less</span>
          <div class="flex gap-1">
            <div class="w-3 h-3 rounded-sm bg-gray-800/50"></div>
            <div class="w-3 h-3 rounded-sm bg-amber-900/30"></div>
            <div class="w-3 h-3 rounded-sm bg-amber-700/50"></div>
            <div class="w-3 h-3 rounded-sm bg-amber-500/70"></div>
            <div class="w-3 h-3 rounded-sm bg-amber-400"></div>
          </div>
          <span>More</span>
        </div>
      </div>
    </div>

    {/* GitHub Stats Cards */}
    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 max-w-5xl mx-auto">
      {/* Followers */}
      <div
        class="group relative p-6 rounded-2xl bg-linear-to-b from-neutral-900/55 via-neutral-900/45 to-neutral-900/40 backdrop-blur-2xl shadow-[inset_0_1.5px_3px_0_rgba(255,255,255,0.1),inset_0_-1.5px_3px_0_rgba(0,0,0,0.25),0_0_0_0.5px_rgba(255,255,255,0.08),0_0_0_2.5px_rgba(0,0,0,0.35),0_10px_30px_-6px_rgba(0,0,0,0.4)] hover:shadow-[inset_0_1.5px_3px_0_rgba(255,255,255,0.12),inset_0_-1.5px_3px_0_rgba(0,0,0,0.25),0_0_0_0.5px_rgba(251,191,36,0.3),0_0_0_2.5px_rgba(251,191,36,0.2),0_12px_35px_-6px_rgba(251,191,36,0.15)] transition-all duration-300 cursor-pointer active:scale-[0.98]"
      >
        <div class="flex items-center gap-4">
          <div
            class="w-12 h-12 rounded-xl bg-amber-500/10 flex items-center justify-center border border-amber-500/20"
          >
            <svg
              class="w-6 h-6 text-amber-400"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"
              ></path>
            </svg>
          </div>
          <div>
            <div class="text-xs text-gray-400 mb-1 font-medium">Followers</div>
            <div class="text-3xl font-bold text-white">
              {githubStats.followers}
            </div>
          </div>
        </div>
      </div>

      {/* Total Stars */}
      <div
        class="group relative p-6 rounded-2xl bg-linear-to-b from-neutral-900/55 via-neutral-900/45 to-neutral-900/40 backdrop-blur-2xl shadow-[inset_0_1.5px_3px_0_rgba(255,255,255,0.1),inset_0_-1.5px_3px_0_rgba(0,0,0,0.25),0_0_0_0.5px_rgba(255,255,255,0.08),0_0_0_2.5px_rgba(0,0,0,0.35),0_10px_30px_-6px_rgba(0,0,0,0.4)] hover:shadow-[inset_0_1.5px_3px_0_rgba(255,255,255,0.12),inset_0_-1.5px_3px_0_rgba(0,0,0,0.25),0_0_0_0.5px_rgba(251,191,36,0.3),0_0_0_2.5px_rgba(251,191,36,0.2),0_12px_35px_-6px_rgba(251,191,36,0.15)] transition-all duration-300 cursor-pointer active:scale-[0.98]"
      >
        <div class="flex items-center gap-4">
          <div
            class="w-12 h-12 rounded-xl bg-amber-500/10 flex items-center justify-center border border-amber-500/20"
          >
            <svg
              class="w-6 h-6 text-amber-400"
              fill="currentColor"
              viewBox="0 0 20 20"
            >
              <path
                d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"
              ></path>
            </svg>
          </div>
          <div>
            <div class="text-xs text-gray-400 mb-1 font-medium">
              Total Stars
            </div>
            <div class="text-3xl font-bold text-white">{githubStats.stars}</div>
          </div>
        </div>
      </div>

      {/* Public Repos */}
      <div
        class="group relative p-6 rounded-2xl bg-linear-to-b from-neutral-900/55 via-neutral-900/45 to-neutral-900/40 backdrop-blur-2xl shadow-[inset_0_1.5px_3px_0_rgba(255,255,255,0.1),inset_0_-1.5px_3px_0_rgba(0,0,0,0.25),0_0_0_0.5px_rgba(255,255,255,0.08),0_0_0_2.5px_rgba(0,0,0,0.35),0_10px_30px_-6px_rgba(0,0,0,0.4)] hover:shadow-[inset_0_1.5px_3px_0_rgba(255,255,255,0.12),inset_0_-1.5px_3px_0_rgba(0,0,0,0.25),0_0_0_0.5px_rgba(251,191,36,0.3),0_0_0_2.5px_rgba(251,191,36,0.2),0_12px_35px_-6px_rgba(251,191,36,0.15)] transition-all duration-300 cursor-pointer active:scale-[0.98]"
      >
        <div class="flex items-center gap-4">
          <div
            class="w-12 h-12 rounded-xl bg-amber-500/10 flex items-center justify-center border border-amber-500/20"
          >
            <svg
              class="w-6 h-6 text-amber-400"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"
              ></path>
            </svg>
          </div>
          <div>
            <div class="text-xs text-gray-400 mb-1 font-medium">
              Public Repos
            </div>
            <div class="text-3xl font-bold text-white">{githubStats.repos}</div>
          </div>
        </div>
      </div>

      {/* Total Forks */}
      <div
        class="group relative p-6 rounded-2xl bg-linear-to-b from-neutral-900/55 via-neutral-900/45 to-neutral-900/40 backdrop-blur-2xl shadow-[inset_0_1.5px_3px_0_rgba(255,255,255,0.1),inset_0_-1.5px_3px_0_rgba(0,0,0,0.25),0_0_0_0.5px_rgba(255,255,255,0.08),0_0_0_2.5px_rgba(0,0,0,0.35),0_10px_30px_-6px_rgba(0,0,0,0.4)] hover:shadow-[inset_0_1.5px_3px_0_rgba(255,255,255,0.12),inset_0_-1.5px_3px_0_rgba(0,0,0,0.25),0_0_0_0.5px_rgba(251,191,36,0.3),0_0_0_2.5px_rgba(251,191,36,0.2),0_12px_35px_-6px_rgba(251,191,36,0.15)] transition-all duration-300 cursor-pointer active:scale-[0.98]"
      >
        <div class="flex items-center gap-4">
          <div
            class="w-12 h-12 rounded-xl bg-amber-500/10 flex items-center justify-center border border-amber-500/20"
          >
            <svg
              class="w-6 h-6 text-amber-400"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"
              ></path>
            </svg>
          </div>
          <div>
            <div class="text-xs text-gray-400 mb-1 font-medium">
              Total Forks
            </div>
            <div class="text-3xl font-bold text-white">{githubStats.forks}</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
